<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h4>masukan daftar barangnya</h4>
    <textarea name="" id="semua"></textarea>
    <button onclick="masuk()">kirim</button>
    <h4 id ="berhasil"></h4>

    <script>
        
        function masuk(){
            let semuae = document.getElementById("semua");
            let semua = semuae.value;
            var berhasil = document.getElementById("berhasil")
            console.log(semua)
            semuae.value = "";
            var kata = semua.match(/\w+/g)
            console.log(kata.length)
            if (kata.length == 3){
                kirim(kata[0], kata[1], kata[2])
            }
            else{
                berhasil.innerText="masukan nama barang, jumlah dan harga"
            }
            
        }
        
        function kirim(data1, data2, data3){
            fetch("https://script.google.com/macros/s/AKfycbxhavTHu-xLxHv0vV0qdFXuttMApQi9L17y9puzLa_Ge4l2WQ-KTz_2A6CL_E72kUzs/exec", {
                method: "POST",
                body: JSON.stringify({
                    nama_barang: data1,
                    harga: data2,
                    jumlah: data3
                })
            })
            .then(res => res.json())
            .then(data=>{
                console.log(data.pesan)
                berhasil.innerText = data.pesan

            })

        }


    </script>
</body>
</html>